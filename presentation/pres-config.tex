\usepackage[dvipsnames]{xcolor}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{xcolor}

\setbeamertemplate{navigation symbols}{}
\usetheme{Madrid}

\definecolor{kotlin-purple}{HTML}{7F52FF}
\definecolor{redhighlight}{RGB}{255,200,200}
\definecolor{greenhighlight}{RGB}{200,255,200}


\iffalse %wird bis \fi ignoriert
% Brighter, cohesive color scheme
\definecolor{bgcolor}{HTML}{E8F1FB}
\definecolor{bgcoloralt}{HTML}{F2F4F7}
\definecolor{basecolor}{HTML}{60A5FA}
\definecolor{secondarycolor}{HTML}{93C5FD}
\definecolor{textcolor}{HTML}{1E293B}
\definecolor{popcolor}{HTML}{FCD34D}
\definecolor{bgpopcolor}{HTML}{FFF7ED}


% altcolor scheme
\definecolor{altbgcolor}{HTML}{FFF7ED}
\definecolor{altbgcoloralt}{HTML}{FEFCF8}
\definecolor{altbasecolor}{HTML}{6B7280}
\definecolor{altsecondarycolor}{HTML}{D1D5DB}
\definecolor{alttextcolor}{HTML}{1F2937}
\definecolor{altpopcolor}{HTML}{8054FC}

%thread colors
%\definecolor{main}{HTML}{60A5FA}  % Red → Blue
\definecolor{defaultcolor}{HTML}{C084FC}  % Yellow → Violet
\definecolor{iocolor}{HTML}{A3E635}  % Blue → Lime Green
%thread colors
%\definecolor{main}{HTML}{60A5FA}  % Red → Blue
\definecolor{defaultcolor}{HTML}{C084FC}  % Yellow → Violet
\definecolor{iocolor}{HTML}{A3E635}  % Blue → Lime Green

\definecolor{altbasecolor}{HTML}{8054FC}  % Red shifted → Violet

\fi

% color scheme

\definecolor{bgcolor}{HTML}{EDE9FB}
\definecolor{bgcoloralt}{HTML}{F4F4F7}
\definecolor{bgpopcolor}{HTML}{FFF7ED}
\definecolor{basecolor}{HTML}{8054FC}
\definecolor{secondarycolor}{HTML}{B69DFD}
\definecolor{textcolor}{HTML}{1E1B2E}
\definecolor{popcolor}{HTML}{FBBF24}



% altcolor scheme

\definecolor{altbgcolor}{HTML}{E0E7FF}
\definecolor{altbgcoloralt}{HTML}{D1D5DB}
\definecolor{altbasecolor}{HTML}{334155}
\definecolor{altsecondarycolor}{HTML}{94A3B8}
\definecolor{alttextcolor}{HTML}{1E293B}
\definecolor{altpopcolor}{HTML}{EDE9FB}

%thread colors
\definecolor{defaultcolor}{HTML}{FB61B4}
\definecolor{iocolor}{HTML}{6EE7B7}  





\lstdefinelanguage{Kotlin}{
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  emph={filter, first, firstOrNull, forEach, lazy, map, mapNotNull, println},
  keywords={!in, !is, abstract, actual, annotation, as, as?, break, by, catch, class, companion, const, constructor, continue, crossinline, data, delegate, do, dynamic, else, enum, expect, external, false, field, file, final, finally, for, fun, get, if, import, in, infix, init, inline, inner, interface, internal, is, lateinit, noinline, null, object, open, operator, out, override, package, param, private, property, protected, public, receiveris, reified, return, return@, sealed, set, setparam, super, suspend, tailrec, this, throw, true, try, typealias, typeof, val, var, vararg, when, where, while},
  ndkeywords={@Deprecated, @JvmField, @JvmName, @JvmOverloads, @JvmStatic, @JvmSynthetic, Array, Byte, Double, Float, Int, Integer, Iterable, Long, Runnable, Short, String, Any, Unit, Nothing},
  morestring=[b]",
  morestring=[s]{"""*}{*"""},
  sensitive=true,
  moredelim=[is][\hlg]{<g>}{</g>},
  moredelim=[is][\hlr]{<r>}{</r>},
  moredelim=[is][\hlgBlue]{<gBlue>}{</gBlue>},
  moredelim=[is][\hlrBlue]{<rBlue>}{</rBlue>},
}

\lstdefinelanguage{Java}{
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  emph={System, out, print, println, Arrays, Collections, List, Map, Set, stream},
  keywords={abstract, assert, boolean, break, byte, case, catch, char, class, const, continue, default, do, double, else, enum, extends, final, finally, float, for, if, goto, implements, import, instanceof, int, interface, long, native, new, null, package, private, protected, public, return, short, static, strictfp, super, switch, synchronized, this, throw, throws, transient, try, void, volatile, while, var},
  ndkeywords={@Deprecated, @FunctionalInterface, @Override, @SafeVarargs, @SuppressWarnings, @Documented, @Inherited, @Repeatable, @Retention, @Target, String, Integer, Double, Float, Long, Short, Boolean, Character, Object, Class, Runnable},
  morestring=[b]",
  morestring=[s]{"""*}{*"""},
  sensitive=true,
  moredelim=[is][\hlg]{<g>}{</g>},
  moredelim=[is][\hlr]{<r>}{</r>},
  moredelim=[is][\hlgBlue]{<gBlue>}{</gBlue>},
  moredelim=[is][\hlrBlue]{<rBlue>}{</rBlue>},
}

\newcommand{\tightcolorbox}[2]{%
  \setlength{\fboxsep}{0pt}% 
  \colorbox{#1}{\strut #2}%
}
\newcommand{\hlg}[1]{\tightcolorbox{green!30}{#1}}
\newcommand{\hlr}[1]{\tightcolorbox{red!30}{#1}}
\newcommand{\hlgBlue}[1]{\tightcolorbox{green!30}{\textcolor{blue}{#1}}}
\newcommand{\hlrBlue}[1]{\tightcolorbox{red!30}{\textcolor{blue}{#1}}}

\robustify{\hlgBlue}
\robustify{\hlrBlue}

\robustify{\hlg}
\robustify{\hlr}

\lstset{
    backgroundcolor=\color{gray!10},
    basicstyle=\ttfamily\small,
    breaklines=true,
    breakatwhitespace=true,
    numbers=left,
    tabsize=2,
    captionpos=t,
    frame=single,
    rulecolor=\color{black},
    % Styles for Java and Kotlin
    numberstyle=\tiny\color{gray},
    keywordstyle=\color{blue}\bfseries,
    ndkeywordstyle=\color{BurntOrange}\bfseries,
    commentstyle=\color{green!50!black}\bfseries\itshape,
    stringstyle=\color{red},
    emphstyle=\color{Purple},
    identifierstyle=\color{black},
    moredelim=[is][\hlg]{<g>}{</g>},
    moredelim=[is][\hlr]{<r>}{</r>},
    moredelim=[is][\hlgBlue]{<gBlue>}{</gBlue>},
  moredelim=[is][\hlrBlue]{<rBlue>}{</rBlue>},
}

