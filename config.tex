\usepackage[a4paper, left=3cm, right=3cm, top=3cm, bottom=3cm]{geometry}
\usepackage[dvipsnames]{xcolor}
\usepackage{listings}
\usepackage{hyperref}
\usepackage{titling}
\usepackage[T1]{fontenc}


\lstdefinelanguage{Kotlin}{
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  emph={filter, first, firstOrNull, forEach, lazy, map, mapNotNull, println},
  keywords={!in, !is, abstract, actual, annotation, as, as?, break, by, catch, class, companion, const, constructor, continue, crossinline, data, delegate, do, dynamic, else, enum, expect, external, false, field, file, final, finally, for, fun, get, if, import, in, infix, init, inline, inner, interface, internal, is, lateinit, noinline, null, object, open, operator, out, override, package, param, private, property, protected, public, receiveris, reified, return, return@, sealed, set, setparam, super, suspend, tailrec, this, throw, true, try, typealias, typeof, val, var, vararg, when, where, while},
  ndkeywords={@Deprecated, @JvmField, @JvmName, @JvmOverloads, @JvmStatic, @JvmSynthetic, Array, Byte, Double, Float, Int, Integer, Iterable, Long, Runnable, Short, String, Any, Unit, Nothing},
  morestring=[b]",
  morestring=[s]{"""*}{*"""},
  sensitive=true,
}

\lstdefinelanguage{Java}{
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  emph={System, out, print, println, Arrays, Collections, List, Map, Set, stream},
  keywords={abstract, assert, boolean, break, byte, case, catch, char, class, const, continue, default, do, double, else, enum, extends, final, finally, float, for, if, goto, implements, import, instanceof, int, interface, long, native, new, null, package, private, protected, public, return, short, static, strictfp, super, switch, synchronized, this, throw, throws, transient, try, void, volatile, while, var},
  ndkeywords={@Deprecated, @FunctionalInterface, @Override, @SafeVarargs, @SuppressWarnings, @Documented, @Inherited, @Repeatable, @Retention, @Target, String, Integer, Double, Float, Long, Short, Boolean, Character, Object, Class, Runnable},
  morestring=[b]",
  morestring=[s]{"""*}{*"""},
  sensitive=true,
}

\lstset{
    backgroundcolor=\color{gray!10},
    basicstyle=\ttfamily\small,
    breaklines=true,
    breakatwhitespace=true,
    numbers=left,
    tabsize=2,
    captionpos=t,
    frame=single,
    rulecolor=\color{black},
    % Styles for Java and Kotlin
    numberstyle=\tiny\color{gray},
    keywordstyle=\color{blue}\bfseries,
    ndkeywordstyle=\color{BurntOrange}\bfseries,
    commentstyle=\color{green!50!black}\bfseries\itshape,
    stringstyle=\color{red},
    emphstyle=\color{Purple},
    identifierstyle=\color{black},
}